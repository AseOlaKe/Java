package ordenacionFicheros;

public class Merge {

	private static final String INPUT="input.txt";
			4 ""private"static"final"StringAUX1  = "aux1.txt";
			5   private static final String AUX2  = "aux2.txt";
			6
			7   public void run() {
			8     try {
			9       boolean sorted = split(INPUT, AUX1, AUX2);
			10       while (!sorted) {
			11         merge(AUX1, AUX2, INPUT);
			12         sorted = split(INPUT, AUX1, AUX2);
			13       }
			14       println("Yataaaa!!!");
			15     } catch (IOException ex) {
			16       println("Some"error has happened");
			17     }
			18   }
			19
			20   private boolean split(String input, 
			21                         String output1, 
			22                   """"""String"output2)"throws"IOException"{
			23
			24 """"BufferedReader"in"="new"BufferedReader(
			25 """""""""""""""""""""""""""""""new"FileReader(input));
			26 """"BufferedWriter"out ="new"BufferedWriter(
			27 """""""""""""""""""""""""""""""new"FileWriter(output1));
			28 """"BufferedWriter"other ="new"BufferedWriter(
			29 """""""""""""""""""""""""""""""new"FileWriter(output2));
			30
			31 """"boolean"sorted"="true;
			32 """"String"previous"=""";
			33 """"String"current"="in.readLine();
			34
			35 """"while"(current"!="null)"{
			36 """"""if"(previous.compareTo(current)">"0)"{
			37 """"""""sorted"="false;
			38 """""""BufferedWriter"tmp"="out;
			39 """"""""out"="other;
			40 """"""""other ="tmp;
			41 """"""}
			42 """"""out.write(current);
			43 """"""out.newLine();
			Programación+2 Curso+2010/2011
			J.M.+Gimeno+y+J.L.+González 29
			44 """"""previous"="current;
			45 """"""current"="in.readLine();
			46 """"}
			47
			48 """"in.close();
			49 """"out.close();
			50 """"other.close();
			51
			52 """"return"sorted;
			53 ""}
			54
			55 ""private"void"merge(String"input1,"
			56 """""""""""""""""""""String"input2,"
			57 String"output)"throws"IOException"{
			58
			59 """"BufferedReader"in1"="new"BufferedReader(
			60 """"""""""""""""""""""""""""""""new"FileReader(input1));
			61 """"BufferedReader"in2"="new"BufferedReader(
			62 """"""""""""""""""""""""""""""""new"FileReader(input2));
			63 """"BufferedWriter"out"="new"BufferedWriter(
			64 """"""""""""""""""""""""""""""""new"FileWriter(output));
			65
			66 """"String"current1"="in1.readLine();
			67 """"String"current2"="in2.readLine();
			68
			69 """"while"(current1"!="null"&&"current2"!="null)"{
			70 """"""if"(current1.compareTo(current2)"<="0)"{
			71 """"""""out.write(current1);
			72 """"""""out.newLine();
			73 """"""""current1"="in1.readLine();
			74 """"""}"else"{
			75 """"""""out.write(current2);
			76 """"""""out.newLine();
			77 """"""""current2"="in2.readLine();
			78 """"""}
			79 """"}
			80
			81 """"while"(current1"!="null)"{
			82 """"""out.write(current1);
			83 """"""out.newLine();
			84 """"""current1"="in1.readLine();
			85 """"}
			86
			87 """"while"(current2"!="null)"{
			88 """"""out.write(current2);
			89 """"""out.newLine();
			90 """"""current2"="in2.readLine();
			91 """"}
}
